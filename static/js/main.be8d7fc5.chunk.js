(this.webpackJsonpfirebase_crud=this.webpackJsonpfirebase_crud||[]).push([[0],{16:function(e,t,a){e.exports=a.p+"static/media/delete.ee46ca53.svg"},17:function(e,t,a){e.exports=a(36)},22:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),l=a(13),c=a.n(l);a(22);function i(){return r.a.createElement("div",{style:{height:"20vh",width:"50vw",backgroundColor:"#B3D3EA",margin:"auto"}},r.a.createElement("div",{style:{width:"35%",margin:"auto"}},r.a.createElement("p",{style:{margin:0}},"welcome to"),r.a.createElement("h1",null,"blind chat"),r.a.createElement("p",{style:{margin:0}},"powered by memers academy")))}var o=a(10),s=a.n(o),d=a(14),u=a(11),m=a(8),g=a(15).initializeApp({apiKey:"AIzaSyC9W5cYsUEf_5agt2ftKCETzaBmYeckLhs",authDomain:"fir-crud-ae48f.firebaseapp.com",databaseURL:"https://blind-chat-1c200-default-rtdb.firebaseio.com/",projectId:"fir-crud-ae48f",storageBucket:"fir-crud-ae48f.appspot.com",messagingSenderId:"724765812562",appId:"1:724765812562:web:bf74f6ea635fbd654b7c8b"}).database().ref(),h=a(16),p=a.n(h);a(35);function f(){var e=Object(n.useState)({message:"",dateTime:""}),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({}),i=Object(m.a)(c,2),o=i[0],h=i[1],f=Object(n.useState)(!0),b=Object(m.a)(f,2),y=b[0],v=b[1];Object(n.useEffect)((function(){E()}),[]);var E=function(){g.child("chats").on("value",(function(e){var t=document.getElementById("messageBody");t.scrollTop=t.scrollHeight,null!=e.val()?(h(Object(u.a)({},e.val())),v(!1)):(h({}),v(!1))}))},w=function(){var e=Object(d.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.message?g.child("chats").push(a)&&l({message:"",dateTime:""}):alert("Empty message can not be sent."),(n=document.getElementById("messageBody")).scrollTop=n.scrollHeight;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{height:"70vh",width:"50vw",backgroundColor:"#b2e8be",margin:"auto"}},r.a.createElement("div",{style:{height:"93%",padding:"2% 0 2% 2%"}},r.a.createElement("div",{id:"messageBody",style:{height:"100%",width:"100%",padding:"0 0 8% 0",overflow:"scroll",overflowX:"hidden"}},Object.keys(o).length>0?Object.keys(o).map((function(e){return r.a.createElement("div",{key:e,style:{backgroundColor:"#ffffff",borderRadius:"5px",marginBottom:"2px",display:"flex"}},r.a.createElement("div",{style:{width:"85%"}},r.a.createElement("p",{style:{margin:"0",padding:"2px"}},o[e].message)),r.a.createElement("div",{style:{width:"15%",display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("img",{src:p.a,alt:"Delete",height:"20",onClick:function(){var t;t=e,window.confirm("Are you sure to delete this message?")&&g.child("chats/".concat(t)).remove()},style:{cursor:"pointer"}}),r.a.createElement("p",{style:{margin:"0",padding:"2px",textAlign:"right",fontSize:"10px"}},o[e].dateTime)))})):y?r.a.createElement("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement("p",null,"Loading...Please wait !")):r.a.createElement("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement("p",null,"No messages in the conversation.")))),r.a.createElement("div",{style:{height:"7%"}},r.a.createElement("form",null,r.a.createElement("input",{type:"text",name:"message",value:a.message,onChange:function(e){var t=new Date,a=[t.getDate(),t.getMonth()+1,t.getFullYear(),t.getHours(),t.getMinutes()],n=a[1],r=a[2],c=a[3],i=a[4],o="".concat(a[0],"/").concat(n,"/").concat(r," ").concat(c,":").concat(i);l({message:e.target.value,dateTime:o}),g.child("chats").on("value",(function(e){null!=e.val()?h(Object(u.a)({},e.val())):h({})}))},autoFocus:!0,placeholder:"Message...",onKeyPress:function(e){13===e.keyCode&&w()},style:{width:"90%",padding:"2px",borderRadius:"5px",border:"1px solid black"}}),r.a.createElement("button",{style:{width:"10%",padding:"2px",backgroundColor:"#B3D3EA",borderRadius:"5px",border:"1px solid black"},onClick:w},"Send"))))}var b=function(){window.confirm("Are you sure to clear all the chats?")&&g.child("chats").remove()};function y(){return r.a.createElement("div",{style:{height:"10vh",width:"50vw",margin:"auto",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement("button",{style:{width:"25%",padding:"2px",backgroundColor:"#B3D3EA",borderRadius:"5px",border:"1px solid black"},onClick:b},"Clear all the chats"))}var v=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i,null),r.a.createElement(f,null),r.a.createElement(y,null))},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,37)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),l(e),c(e)}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),E()}},[[17,1,2]]]);
//# sourceMappingURL=main.be8d7fc5.chunk.js.map